<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema Financeiro - Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/all.min.js"></script>
  </head>
  <body>

 <div class="sidebar">
  <h1>Sistema Financeiro</h1>

  <div class="sidebar-user d-flex align-items-center mb-3">
    <a href="usuario.html" class="d-flex align-items-center text-white text-decoration-none sidebar-user-link" title="Editar perfil">
      <img id="sidebarFoto" src="../img/default-avatar.png" class="sidebar-avatar" alt="Foto do usuário">
      <span id="sidebarNome" class="ms-2">Usuário</span>
    </a>
  </div>

  <ul class="menu">
    <li><a href="index.html"> Dashboard</a></li>
    <li>
      <a href="#transacoesCollapse" class="dropdown-toggle" data-bs-toggle="collapse" role="button">Transações</a>
      <div class="collapse show" id="transacoesCollapse">
        <ul class="submenu">
          <li><a href="transacoes.html">Cadastrar Transação</a></li>
          <li><a href="listarTransacoes.html">Listar Transações</a></li>
          <li><a href="metas.html">Metas</a></li>
        </ul>
      </div>
    </li>
    <li><a href="#"> Categorias</a></li>
    <li><a href="#"> Relatórios</a></li>
    <li><a href="#"> Configurações</a></li>
  </ul>
</div>



    <div class="content">
    <div class="header-dashboard d-flex justify-content-between align-items-center">
      <!-- Lado esquerdo: título + data -->
      <div class="titulo-dashboard">
        <h1 id="tituloDashboard">Dashboard</h1>
        <p id="dataHoje" class="text-muted small"></p>
      </div>

    <!-- Lado direito: perfil do usuário -->
    <div class="user-profile d-flex align-items-center">
      <img id="userFoto" src="../img/default-avatar.png" alt="Foto do usuário" class="user-avatar">
      <div class="ms-2">
        <h5 id="userNome">Usuário</h5>
        <small id="userEmail">email@exemplo.com</small>
      </div>
    </div>
  </div>

      <div class="row mb-4">
        <div class="col-md-3">
          <div class="card shadow-custom">
            <div class="card-body">
              <h5 class="card-title d-flex justify-content-between">
                Saldo Total <i class="fa-solid fa-wallet text-primary"></i>
              </h5>
              <h2 id="saldoTotal">R$ 0,00</h2>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card shadow-custom">
            <div class="card-body">
              <h5 class="card-title d-flex justify-content-between">
                Total Receitas
                <i class="fa-regular fa-circle-up text-success"></i>
              </h5>
              <h2 id="totalReceitas">R$ 0,00</h2>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card shadow-custom">
            <div class="card-body">
              <h5 class="card-title d-flex justify-content-between">
                Total Despesas
                <i class="fa-regular fa-circle-down text-danger"></i>
              </h5>
              <h2 id="totalDespesas">R$ 0,00</h2>
            </div>
          </div>
        </div>

<div class="col-md-3">
          <div class="card shadow-custom">
            <div class="card-body">
              <h5 class="card-title d-flex justify-content-between">
                Metas Concluídas <i class="fa-solid fa-trophy text-warning"></i>
              </h5>
              <h2 id="metasQtd">0</h2>
            </div>
          </div>
        </div>
      </div>


      <div class="row mb-4">
        <div class="col-md-6">
          <div class="card shadow-custom">
            <div class="card-body">
              <h5 class="card-title">Despesas por Mês</h5>
              <canvas id="graficoBarras"></canvas>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-custom">
            <div class="card-body">
              <h5 class="card-title">Saldo por Banco</h5>
              <canvas id="graficoPizza"></canvas>
            </div>
          </div>
        </div>
      </div>


<div class="row mb-4">
  <div class="col-md-12">
    <div class="card shadow-custom metacard w-100">
      <div class="card-body">
        <h5 class="card-title">Metas</h5>
        <p id="quantidadeMetas">Quantidade de metas: 0 cadastradas</p>

        <!-- Select vazio, preenchido pelo JS -->
        <select id="selectMetas" class="form-control mb-3">
          <option value="" disabled selected>-- Escolha uma meta --</option>
        </select>

        <!-- Barra de progresso (aparece só quando selecionar uma meta) -->
        <div id="progressContainer" style="display: none">
          <div class="progress">
            <div id="progressBar" class="progress-bar" style="width: 0%">
              0%
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <script src="../js/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/global.js"></script>
  </body>
</html>
